/**
 * JavaScript for API Monitor
 *
 * @module     local_eventocoursecreation/api_monitor
 * @copyright  2025 Your Name
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_eventocoursecreation/api_monitor",["core/chartjs","jquery"],(function(Chart,$){const prepareStatsData=function(stats){const labels=[],apiCalls=[],errors=[],cacheHits=[];for(const veranstalterId in stats)Object.prototype.hasOwnProperty.call(stats,veranstalterId)&&(labels.push(veranstalterId),apiCalls.push(stats[veranstalterId].api_calls||0),errors.push(stats[veranstalterId].errors||0),cacheHits.push(stats[veranstalterId].cache_hits||0));return{labels:labels,apiCalls:apiCalls,errors:errors,cacheHits:cacheHits}},initializeApiCallsChart=function(data){const ctx=document.getElementById("api-calls-chart");ctx&&new Chart(ctx,{type:"bar",data:{labels:data.labels,datasets:[{label:M.util.get_string("api_calls","local_eventocoursecreation"),data:data.apiCalls,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:M.util.get_string("api_cache_hits","local_eventocoursecreation"),data:data.cacheHits,backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,title:{display:!0,text:M.util.get_string("api_calls","local_eventocoursecreation")},scales:{y:{beginAtZero:!0}}}})},initializeErrorsChart=function(data){const ctx=document.getElementById("errors-chart");ctx&&new Chart(ctx,{type:"pie",data:{labels:data.labels,datasets:[{data:data.errors,backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{responsive:!0,title:{display:!0,text:M.util.get_string("api_errors","local_eventocoursecreation")}}})};return{init:function(data){$(document).ready((function(){if(data&&data.stats){const statsData=prepareStatsData(data.stats);initializeApiCallsChart(statsData),initializeErrorsChart(statsData)}}))}}}));

//# sourceMappingURL=api_monitor.min.js.map